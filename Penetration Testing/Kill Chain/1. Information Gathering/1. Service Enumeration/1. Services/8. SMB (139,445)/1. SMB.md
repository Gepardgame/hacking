# Checklist
```bash
# Enumerate vulns
nmap --script smb-vuln* -p 139,445 $ip
msfconsole > search type:exploit platform:windows target:$year smb

# Enumerate Host
netexec smb $ip
enum4linux -a $ip

# List Shares
netexec smb $ip -u $user$ -p $pass --shares
netexec smb [host/ip] -u $guest -p '' --shares
smbclient -N -L //$ip

# Enumerate Files
smbclient //$ip/$share -N
smbclient //$ip/$share -U $username $password$

# User Enumeration
lookupsid.py guest@$ip -no-pass
netexec smb $ip -u guest -p '' --rid-brute
samrdump.py $domain/$user:$pass@$ip # from impacket
```

# Sources
[0xdf](https://0xdf.gitlab.io/cheatsheets/smb-enum#)
[Hacktricks](https://book.hacktricks.wiki/en/network-services-pentesting/pentesting-smb/index.html)